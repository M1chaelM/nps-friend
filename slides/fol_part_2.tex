\documentclass[style=sailor,size=12pt]{powerdot}
\usepackage{epic,array,ecltree,url,calrsfs}
\usepackage[nointegrals]{wasysym}
\usepackage{listings}
\usepackage{epsfig}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsxtra}
\usepackage{amsthm}
\usepackage{mlextra} % Must be below ams packages
\usepackage{mathrsfs}
\usepackage{color}
\usepackage{array}
\usepackage{graphicx}
\graphicspath{ {../art/} }
\usepackage{bm}
\usepackage{tikz}
\usepackage{multicol}
\usepackage{enumitem}

\pdsetup{method=normal}

\title{First Order Logic: Part I}
\author{Foundations of Computer Science}
\date{\today}

\begin{document}
\maketitle
\begin{slide}[toc=,bm=]{Overview}
This slide set covers the following topics in first order logic:

\vspace{5mm}
\tableofcontents[content=sections]
\end{slide}
\section[slide=false]{Prenex Conjunctive Normal Form}

\begin{wideslide}[bm=,toc=]{PCNF for First Order Logic}
{\bf Recall:}
\begin{itemize}
\item CNF in propositional logic: conjunction of disjunctions of literals.
\item Clausal form: represented as a set of literals.
\end{itemize}
We now generalize to first order logic:
\begin{defn}{9.9}
A formula is in \emph{prenex conjunctive normal form (PCNF)} iff it is of the
form:
\[
  Q_1x_1\cdots Q_n x_n M
  \]
  where the $Q_i$ are quantifiers and $M$ is a quantifier-free formula in CNF.
  The sequence $Q_1x_1 \cdots Q_n x_n$ is the \emph{prefix} and $M$ is the
  \emph{matrix}.
\end{defn}

\end{wideslide}


\begin{wideslide}[bm=,toc=]{Clausal Form for First Order Logic}
\begin{defn}{9.11}
Let $A$ be a \emph{closed} formula in PCNF whose prefix consists only of 
\emph{universal} quantifiers. The \emph{clausal form} of $A$ consists of
the matrix of $A$ written as a set of clauses.
\end{defn}
\begin{ex}{9.10}
The following formula is in PCNF:
\[
  \forall y \forall z([p(f(y)) \lor \ngg p (g(z)) \lor q(z)] \land [ \ngg q(z)
      \lor \ngg p (g(z)) \lor q(y)])
  \]
\end{ex}
\begin{ex}{9.12}
The formula in example 9.10 is closed and has only universal quantifiers, so it
can be written in clausal form as:
\[
   \{\{p(f(y)), \ngg p(g(z)), q(z)\}, \{ \ngg q(z), \ngg p (g(z)), q(y)\}\}
  \]
\end{ex}
\end{wideslide}
\begin{wideslide}[bm=,toc=]{Skolem's Theorem}
{\bf Recall:} every formula in PL has an equivalent in CNF.
\begin{itemize}
\item Not true for first-order logic.
\item But, for every formula in FOL there is an equisatisfiable formula
in clausal form.
\end{itemize}
\begin{thm}{9.13}[Skolem]
Let $A$ be a closed formula. Then there exists a formula $A'$ in clausal form
such that $A \approx A'$.
\end{thm}

\begin{itemize}
\item $A \approx A'$: $A$ is satisfiable iff $A'$ is satisfiable. 
\item We can find $A'$ using a process called \emph{Skolemization}. 
\item This process uses functions to eliminate existential quantifiers.
\end{itemize}
\end{wideslide}

\begin{wideslide}[bm=,toc=]{Intuition for Skolem's Algorithm}
Existential quantifiers indicate a function-like relationship.
\begin{itemize}
\item Consider $A = \forall x \exists y p(x,y)$
\item ``For all $x$, \emph{produce} a value $y$ associated with that $x$ such
that $p$ is true.''
\item Similar in sense to $y = f(x)$.
\item Replacing gives $A' = \forall x p(x,(f(x))$
\end{itemize}
\vspace{2ex}
Effects of replacement process:
\begin{itemize}
\item Eliminates existential quantifiers.
\item Introduction of function symbols narrows the choice of models.
\item Relations are \emph{many-many}.
\item Functions are relations that are \emph{many-one}.
\item The modification ``finds'' \emph{one} example necessary to satisfy the existence claim.
\item Many other possible examples are excluded.
\end{itemize}
\end{wideslide}

\begin{wideslide}[bm=,toc=]{Skolemization Example}
\begin{ex}{9.14}
~\\Consider the formulas:
\vspace{-2ex}
\[A = \forall x \exists y p(x,y) \text{ and } A' = \forall x p(x,(f(x))\]
\end{ex}
\vspace{-2ex}
Under the following interpretations:
\begin{itemize}
\item $\mathcal{I} = (\Z,\{>\},\{\})$
\item $\mathcal{I}' = (\Z,\{>\},\{F(x) = x + 1\},\{\})$
\item $\mathcal{I}'' = (\Z,\{>\},\{F(x) = x - 1\},\{\})$
\end{itemize}
Note that:
\begin{itemize}
\item $\mathcal{I} \models A$, $\mathcal{I}' \models A$ and $\mathcal{I}''
\models A$ (ignore the functions)
\item $\mathcal{I}'' \models A'$ but $\mathcal{I}' \not \models A'$. 
\item $A \not \equiv A'$ but $A \approx A'$ 
\end{itemize}
\end{wideslide}

\begin{wideslide}[bm=,toc=]{Skolem's Algorithm}
\begin{itemize}
\item Rename bound variables to remove name conflicts.
\item Eliminate Boolean operators except $\ngg, \land, \lor$.
\item Push negation operators inward to atomic formulas. Use
\begin{itemize}
\item $\ngg \forall x A(x) \equiv \exists x \ngg A (x)$ and
\item $\ngg \exists x A(x) \equiv \forall x \ngg A (x)$ 
\end{itemize}
\item Extract quantifiers from the matrix using equivalence laws:
\begin{itemize}
\item $A \;op\; Qx B(x) \equiv Qx(A \;op \; B(x))$ and
\item $QxA(x) \;op\; B \equiv Qx(A(x) \;op \; B)$ 
\end{itemize}
\item Use distributive laws to transform matrix to CNF.
\item Eliminate existential quantifiers by adding Skolem functions.
\begin{itemize}
\item For each existential quantifier, $\exists x$, create a new $n-ary$ function $f$ 
\item $n = $ number of universally quantified variables preceding $\exists x$ in
prenex normal form.
\end{itemize}\end{itemize}
\end{wideslide}

\section[slide=false]{Computational Complexity of FOL}
\begin{slide}[bm=,toc=]{Validity in FOL is Undecidable}
There is no decision procedure for validity in first order logic.
\begin{itemize}
\item First proved by Alonzo Church in 1936.
\item Proof uses a reduction \emph{from} the halting problem.
\item That is $\id{HALT} \leq \id{FOL-VAL}$
\begin{itemize}
\item The halting problem is proven to be undecidable.
\item Therefore, $\id{FOL-VAL}$ is undecidable.
\end{itemize}
\end{itemize}
How the reduction works:
\begin{itemize}
\item Begins with an arbitrary Turing machine $T$.
\item Constructs a formula $S_T$ in first-order logic, such that
\begin{itemize}
\item $S_T$ is valid iff $T$ halts on a blank tape.
\end{itemize}
\item This shows that a decision procedure for $\id{FOL-VAL}$ would also solve
the halting problem.
\end{itemize}
\end{slide}

\begin{wideslide}[bm=,toc=]{Church's Theorem}
\begin{thm}{12.3}[Church]

\emph{Validity in first-order logic is undecidable.}
\end{thm}
Holds even under the following restrictions:
\begin{enumerate}
\item The formulas contain only binary predicate symbols, one constant and one
unary function symbol.
\begin{itemize}
\item Ex: $\forall x (p(x,f(x)) \imp a$.
\end{itemize}
\item The formulas are logic programs.
\begin{itemize}
\item Restricted set of clauses structured to perform computations.
\item See Ben Ari chapter 11.
\end{itemize}
\item The formulas are pure (see below).
\end{enumerate}
\vspace{-2ex}
\begin{defn}{12.4}[Ben Ari]
A formula of first-order logic is \emph{pure} if it contains no function symbols
(including constants which are 0-ary functions symbols).
\end{defn}
{\bf Note:} Validity is undecidable \emph{with} or \emph{without} function symbols.
\end{wideslide}

\begin{wideslide}[bm=,toc=]{Additional Implications of Church's Theorem}
{\bf Recall:}\\
A formula is valid if and only if its complement (negation) is unsatisfiable.
\begin{itemize}
\item There is a simple reduction from a formula to its complement (negation).
\item Therefore, $\id{FOL-VAL} \leq \id{FOL-UNSAT}$ 
\item $\id{FOL-VAL}$ is undecidable.
\item Therefore, $\id{FOL-UNSAT}$ is undecidable.
\end{itemize}
\end{wideslide}

\begin{wideslide}[bm=,toc=]{Semi-decision Procedures for FOL-UNSAT}
\begin{itemize}
\item Resolution for FOL is semi-decision procedure (J.A Robinson) for FOL-UNSAT.
\item Another technique, constructing a \emph{semantic tableau} is also
semi-decision procedure.
\item Thus, $\id{FOL-UNSAT}$ is semi-decidable.
\item Since $\id{FOL-VAL} \leq \id{FOL-UNSAT}$ 
\item $\id{FOL-VAL}$ is semi-decidable. 
\end{itemize}
{\bf Recall:} 
\begin{itemize}
\item $\id{FOL-SAT}$ = $\id{FOL}$ - $\id{FOL-UNSAT}$
\item Properties of semi-decision procedures:
\begin{itemize}
\item Return ``yes'' if an element is in the target set.
\item Return ``no'' or runs forever if not.
\end{itemize}
\item Therefore, $\id{FOL-SAT}$ is \emph{neither} decidable \emph{nor}
semi-decidable.
\end{itemize}

\end{wideslide}

\begin{wideslide}[bm=,toc=]{Satisfiability vs Validity in PL and FOL}
In propositional logic:
\begin{itemize}
\item $\id{SAT}$ is NP-complete $\imp \id{UNSAT}$ is CoNP-complete. 
\item $\id{UNSAT} \leq_p \id{VAL}$, so $\id{VAL}$ is coNP-Hard.
\item $\id{INVAL}$ is in NP $\imp \id{VAL}$ is in CoNP.
\item $\id{VAL}$ is in CoNP and $\id{VAL}$ is CoNP-Hard $\imp \id{VAL}$ is Co-NP
complete.
\item Therefore, in PL, $\id{VAL}$ is harder than $\id{SAT}$ unless $NP = CoNP$.
\end{itemize}
In first-order logic:
\begin{itemize}
\item $\id{VAL} \leq_p \id{UNSAT}$
\begin{itemize}
\item $\id{VAL}$ is undecidable $\imp \id{UNSAT}$ is undecidable. 
\item $\id{UNSAT}$ is semi-decidable $\imp \id{VAL}$ is semi-decidable. 
\end{itemize}
\item $\id{UNSAT}$ is semi-decidable $\imp \id{SAT}$ \emph{not} semi-decidable. 
\item Therefore, in FOL, $\id{SAT}$ is harder than $\id{VAL}$.
\end{itemize}
\end{wideslide}


\section[slide=false]{Subclasses of First-Order Logic}
\begin{slide}[bm=,toc=]{Decidable Subclasses}
\begin{thm}{12.5}
There are decision procedures for the validity of pure PCNF formulas whose
prefixes are of one of the following forms (where $m,n \geq 0$):
\[ \forall x_1\cdots \forall x_n \exists y_1 \cdots \exists y_m, \]
\[ \forall x_1\cdots \forall x_n \exists y \forall z_1 \cdots \forall z_m, \]
\[ \forall x_1\cdots \forall x_n \exists y_1 \exists y_2 \forall z_1 \cdots \forall z_m. \]
These classes are conveniently abbreviated: 

\[    \forall^*\exists^*, \forall^*\exists \forall^*,   \forall^*\exists \exists \forall^*\]
\end{thm}
\end{slide}

\begin{wideslide}[bm=,toc=]{Undecidable Subclasses}
\begin{thm}{12.6}
There are \emph{no} decision procedures for the validity of pure PCNF formulas whose
prefixes have one of the following forms:
\[ \exists z \forall x_1\cdots \forall x_n \exists y_1 \cdots \exists y_m, \]
\[ \forall x_1\cdots \forall x_n \exists y_1 \exists y_2 \exists y_2 \forall z_1 \cdots \forall z_m. \]
For the first prefix, the result holds even if $n = m = 1$:
\[ \exists z \forall x_1 \exists y_1, \]
and for the second prefix, the result holds even if $n = 0, m = 1$:
\[ \exists y_1 \exists y_2 \exists y_2 \forall z_1. \]
Even if the matrix is restricted to contain only binary predicate symbols, there
is still no decision procedure.
\end{thm}
\end{wideslide}

\begin{wideslide}[bm=,toc=]{Application to Policy Statements}
\begin{ex}{3.2}[Halpern and Weissman]
Consider the policy `anyone who is accompanied by a librarian
may enter the stacks'.\\~\\
In first-order logic:
\begin{align*}
& \forall x_1 (\exists x_2 (\bid{Librarian}(x_2) \land \bid{Accompanies}(x_2,x_1)) \imp \\
& \bid{Permitted}(x_1, enter(stacks)))
\end{align*}
\end{ex}
\begin{itemize} 
\item Note that \emph{enter} is a function.
\item Validity for existential formulas with functions is undecidable. 
\item Need a more restricted sublanguage.
\item Decidable is not enough---must also be \emph{tractable}.
\end{itemize}
\end{wideslide}

\begin{wideslide}[bm=,toc=]{A Tractable Sublanguage for Access
  Control}
Halpern and Weissman propose and analyze the complexity and expressiveness
of several fragments of FOL. One example:
\begin{thm}{4.2}[Halpern and Weissman]
Let $\Phi$ be a vocabulary that contains {\bf Permitted} (and possibly
other predicate, constant, and function symbols). Let $\mathcal{L}_6$
consist of all closed formulas in $\mathcal{L}^{fo}(\Phi)$ of the
form $E \land P \imp \bid{Permitted}(t,t')$, where $P$ is a conjunction
of standard policies and both $t$ and $t'$ and closed terms of the
appropriate sort, such that
\end{thm}
\vspace{-2ex}
\begin{enumerate}
\renewcommand{\labelenumi}{\alph{enumi})}
\item E is a basic environment with $m$ constants,
\item no policy in P has an inequality in its antecendent, and
\item there are no bipolars in P relative to the equality statements
in E.
\end{enumerate}
\emph{If each literal in each policy has at most one variable
  that does not appear in {\bf Permitted}, then we can determine
    the validity of the formula in time $O((|E| + m|P|)log|E|)$.}

    {\tiny (Refer to paper for detailed explanation of these constraints.)}
\end{wideslide}





\end{document}

