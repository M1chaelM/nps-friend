% For tweaking page size
\newcommand*{\enlarge}{\enlargethispage{\baselineskip}}

% Increase spacing in tabular and array
\setlength\extrarowheight{2pt}
\setlength\tabcolsep{5pt}
\setlength\arraycolsep{5pt}

% Hyphenation patterns 
\hyphenation{BDD}\hyphenation{BDDs}\hyphenation{OBDD}\hyphenation{OBDDs}
\hyphenation{tab-leau tab-leaux}

% Tabular environment for formal proofs with "reasons"
% First column is number, second is formula, third is reason
%   "reasonp" with proof environment
%   "reasonw" with environment for proofs of wp

\newenvironment{reason}%
{\begin{tabular*}{.9\textwidth}{rl@{\extracolsep{\fill}}r}}%
{\end{tabular*}\mbox{}\\}

\newenvironment{reasonp}%
{\begin{proof}\mbox{}\\\begin{reason}}%
{\end{reason}\qed\end{proof}}

\newenvironment{reasonw}%
{\begin{tabular*}{.95\textwidth}{@{\hspace*{-1em}}rl@{\extracolsep{\fill}}r}}%
{\end{tabular*}}

% Environment (tabbing) for a program and a Prolog program
\newenvironment{program}%
{ \begin{center} \begin{tt} \begin{minipage}{\textwidth} \begin{tabbing}
mm\=mm\=mm\=mm\=mm\=mm\=mm\=mm\=mm\=mm\= \kill }%
{\end{tabbing} \end{minipage} \end{tt} \end{center} }

\newenvironment{prolog}%
{\begin{quote}\begin{tt}\begin{minipage}{\textwidth}\begin{tabbing}
mm\=mm\=mm\=mm\=mm\=mm\=mm\=mm\=mmmmmmmmmmmmmmmmmmmm\= \kill}%
{\end{tabbing}\end{minipage}\end{tt}\end{quote}}

% Graphics: nodes and states, dotted line for BDDs
\newcommand*{\node}[1]{
  \put(5,5){\circle{10}}
  \put(0,0){\makebox(10,10){\small $#1$}}
}
\newcommand*{\state}[2]{
  \put(10,10){\circle{20}}
  \put( 0, 0){\makebox(20,20){#1}}
  \put( 0,20){\makebox(2,12){\small #2}}
}
\newcommand*{\dl}[4]{\thicklines\dottedline{3}(#1,#2)(#3,#4)\thinlines}


% Commands for symbols and constructs

% Inductive assertion {pre}prog{post}
\newcommand*{\induct}[3]{\{#1\}\:{\p{#2}}\:\{#3\}}

% Comma with extra space, lots of space, abbreviation of overline
\newcommand*{\comma}{,\:}
\newcommand*{\cm}{,\;\;}
\newcommand*{\ov}[1]{\overline{#1}}

% Entity in a program
\newcommand*{\p}[1]{\textup{\texttt{#1}}}

% Weakest precondition wp(construct, formula)
\newcommand{\wpp}[2]{\mathit{wp}(\p{#1},\,#2)}

% Remove space in minipage
\newcommand*{\minisp}{\vspace{-\abovedisplayskip}}

% Indent
\newcommand*{\ind}{\hspace*{2em}}

% Logical operators \ngg (negation), \imp (implication),
%   \revimp (reverse implication), \eqv (equivalence),
%   \neqv (non-equivalence), \logeqv (logical equivalence),
\newcommand*{\ngg}{\mathop{\neg}}
\newcommand*{\imp}{\mathbin{\rightarrow}}
\newcommand*{\revimp}{\mathbin{\leftarrow}}
\newcommand*{\eqv}{\mathbin{\leftrightarrow}}
\newcommand*{\neqv}{\mathbin{\oplus}}
\newcommand*{\logeqv}{\mathrel{\equiv}}
\newcommand*{\fml}{\mathit{fml}}

% \sqnt (sequent)
\newcommand*{\sqnt}{\mathrel{\Rightarrow}}
% \nxt (next operation in LTL),
\newcommand*{\nxt}{\mathord{\ocircle}}
% \W - shortcut for W with superscript in wp proofs
\newcommand*{\W}[1]{\p{W}$^{#1}$}

% Command for drawing directed graphs
%   Used in the chapter on the verification of concurrent programs
\newcommand*{\pntleft}[1]{
  \put(  0,0){\vector(-1,-1){15}}
  \put(-20,-20){\circle{10}}
  \put(-25,-25){\makebox(10,10){\small #1}}
}
\newcommand*{\pntright}[1]{
  \put(  0,0){\vector(1,-1){15}}
  \put( 20,-20){\circle{10}}
  \put( 15,-25){\makebox(10,10){\small #1}}
}
\newcommand*{\xright}{
  \put(  0,0){\line(1,-1){15}}
  \put( 15,-25){\makebox(10,10){\small $\times$}}
}
\newcommand*{\xleft}{
  \put(  0,0){\line(-1,-1){15}}
  \put(-25,-25){\makebox(10,10){\small $\times$}}
}

\newcommand{\id}[1]{\mbox{\it #1\/}}
\newcommand{\rid}[1]{\mbox{\rm #1}}
\newcommand{\sid}[1]{\mbox{\sf #1}}
\newcommand{\bid}[1]{\mbox{\bf #1}}
\newcommand{\tinysz}[1]{\mbox{\tiny $#1$}}


\renewcommand\qedsymbol{$\blacksquare$}

%Here I define some theorem styles and shortcut commands for symbols I use often
\theoremstyle{definition}

\newtheorem{innerdefn}{Definition}
\newenvironment{defn}[1]
  {\renewcommand\theinnerdefn{#1}\innerdefn}
  {\endinnerdefn}

\newtheorem{innerexample}{Example}
\newenvironment{ex}[1]
  {\renewcommand\theinnerexample{#1}\innerexample}
  {\endinnerexample}

\newtheorem{innerthm}{Theorem}
\newenvironment{thm}[1]
  {\renewcommand\theinnerthm{#1}\innerthm}
  {\endinnerthm}

%\newtheorem{defn}{Definition}
%\newtheorem{thm}{Theorem}
\newtheorem{cor}{Corollary}
\newtheorem*{rmk}{Remark}
\newtheorem{lem}{Lemma}
\newtheorem*{joke}{Joke}
%\newtheorem{ex}{Example}
\newtheorem*{soln}{Solution}
\newtheorem{prop}{Proposition}

\newcommand{\lra}{\longrightarrow}
\newcommand{\ra}{\rightarrow}
\newcommand{\surj}{\twoheadrightarrow}
\newcommand{\graph}{\mathrm{graph}}
\newcommand{\bb}[1]{\mathbb{#1}}
\newcommand{\Ell}{\mathscr{L}}
\newcommand{\Z}{\bb{Z}}
\newcommand{\Q}{\bb{Q}}
\newcommand{\R}{\bb{R}}
\newcommand{\C}{\bb{C}}
\newcommand{\N}{\bb{N}}
\newcommand{\M}{\mathbf{M}}
\newcommand{\m}{\mathbf{m}}
\newcommand{\MM}{\mathscr{M}}
\newcommand{\HH}{\mathscr{H}}
\newcommand{\Om}{\Omega}
\newcommand{\Ho}{\in\HH(\Om)}
\newcommand{\bd}{\partial}
\newcommand{\del}{\partial}
\newcommand{\bardel}{\overline\partial}
\newcommand{\textdf}[1]{\textbf{\textsf{#1}}\index{#1}}
\newcommand{\img}{\mathrm{img}}
\newcommand{\ip}[2]{\left\langle{#1},{#2}\right\rangle}
\newcommand{\inter}[1]{\mathrm{int}{#1}}
\newcommand{\exter}[1]{\mathrm{ext}{#1}}
\newcommand{\cl}[1]{\mathrm{cl}{#1}}
\newcommand{\ds}{\displaystyle}
\newcommand{\vol}{\mathrm{vol}}
\newcommand{\cnt}{\mathrm{ct}}
\newcommand{\osc}{\mathrm{osc}}
\newcommand{\LL}{\mathbf{L}}
\newcommand{\UU}{\mathbf{U}}
\newcommand{\support}{\mathrm{support}}
\newcommand{\AND}{\;\wedge\;}
\newcommand{\OR}{\;\vee\;}
\newcommand{\Oset}{\varnothing}
\newcommand{\st}{\ni}
\newcommand{\wh}{\widehat}

%Pagination stuff.
\setlength{\topmargin}{-.3 in}
\setlength{\oddsidemargin}{0in}
\setlength{\evensidemargin}{0in}
\setlength{\textheight}{9.in}
\setlength{\textwidth}{6.5in}


